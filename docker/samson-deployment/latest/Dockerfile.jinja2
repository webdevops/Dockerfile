{{ docker.from("samson", user="zendesk") }}

{{ docker.version() }}


###############################################################################
# Bootstrap
###############################################################################

{{ docker.environmentLang() }}

{{ docker.add('baselayout.tar', '/') }}

{{ bootstrap.debian('jessie') }}

###############################################################################
# Base
###############################################################################

{{ docker.environmentHomePath() }}

{{ docker.copy('conf/', '/opt/docker/') }}

{{ base.debian() }}

###############################################################################
# Base-app
###############################################################################

{{ docker.environmentApp() }}

{{ baseapp.debian() }}

###############################################################################
# Samson
###############################################################################

{{ samsonDeployment.general() }}

{{ docker.expose('80') }}

{{ docker.entrypoint("/opt/docker/bin/entrypoint.sh") }}
{{ docker.cmd("supervisord") }}
